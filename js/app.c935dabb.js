(function(t){function e(e){for(var a,r,s=e[0],i=e[1],u=e[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);f&&f(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o={app:0},c=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-09e83f35":"bf1563ca","chunk-2d0cc046":"7f498b13","chunk-2d0cf4c3":"d19ffeb5","chunk-2d0cfb23":"cc55d9c3","chunk-2d0f0a00":"06c89e6d","chunk-2d2086b7":"303bdfc7","chunk-2d209561":"df30be3c","chunk-2d2308d1":"92fdccd2","chunk-2ef4bac8":"d2e7d524","chunk-eedca278":"d4209d0e","chunk-f0f25168":"2fae1100"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-09e83f35":1,"chunk-2ef4bac8":1,"chunk-eedca278":1,"chunk-f0f25168":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-09e83f35":"b3ea5d9c","chunk-2d0cc046":"31d6cfe0","chunk-2d0cf4c3":"31d6cfe0","chunk-2d0cfb23":"31d6cfe0","chunk-2d0f0a00":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-2d209561":"31d6cfe0","chunk-2d2308d1":"31d6cfe0","chunk-2ef4bac8":"b3ea5d9c","chunk-eedca278":"b3ea5d9c","chunk-f0f25168":"b3ea5d9c"}[t]+".css",o=i.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[t],f.parentNode.removeChild(f),n(c)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("a15b"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("9062"),o=n.n(r),c=(n("e40d"),n("bc3a")),s=n.n(c),i=n("a7fe"),u=n.n(i),l=(n("4989"),n("1157")),d=n.n(l),f=n("039f"),p=n("60d4"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Toast"),n("router-view")],1)},v=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{position:"fixed",top:"15px",right:"15px","z-index":"10000"}},t._l(t.msgs,(function(e,a){return n("div",{key:e.timestamp,staticClass:"toast fade show",attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true",id:"toast-"+a}},[n("div",{staticClass:"toast-header"},[n("strong",{staticClass:"mr-auto",class:"text-"+e.status},[t._m(0,!0),t._v(" Tropic Go ")]),n("small",{staticClass:"text-muted ml-3"},[t._v("現在")]),n("button",{staticClass:"ml-2 mb-1 close",attrs:{type:"button","data-dismiss":"toast","aria-label":"Close","data-autohide":"false"},on:{click:function(e){return t.closeToast("toast-"+a)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),n("div",{staticClass:"toast-body"},[t._v(" "+t._s(e.msg)+" ")])])})),0)])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fas fa-comments"})])}],g=(n("4160"),n("a434"),n("159b"),{name:"Toast",data:function(){return{msgs:[]}},methods:{updateMsg:function(t,e){var n=Math.floor(new Date/1e3);this.msgs.push({msg:t,status:e,timestamp:n}),this.removeMsgWithTiming(n)},removeMsgWithTiming:function(t){var e=this;setTimeout((function(){e.msgs.forEach((function(n,a){n.timestamp===t&&e.msgs.splice(a,1)}))}),5e3)},closeToast:function(t){$("#".concat(t)).toast("hide")}},created:function(){var t=this;this.$bus.$on("msg:push",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMsg(e,n)}))}}),k=g,_=n("2877"),C=Object(_["a"])(k,m,b,!1,null,null,null),y=C.exports,w={name:"App",components:{Toast:y}},x=w,O=(n("5c0b"),Object(_["a"])(x,h,v,!1,null,null,null)),E=O.exports,P=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("navbar"),n("div",{staticClass:"py-5 wrapper"},[n("router-view")],1),n("footer",{staticClass:"out-footer"},[t._v("圖片、介紹皆取自網路，僅供練習之用")])],1)},j=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("header",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light",attrs:{id:"front-nav"}},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[a("img",{attrs:{src:n("9d64")}}),a("span",{staticClass:"sr-only"},[t._v("(current)")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v(" 首頁 "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於我們")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle nav-link-cart",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("span",{staticClass:"icon-cart-wrap"},[t._m(1),a("span",{staticClass:"cart-num"},[t._v(t._s(t.totalQuantity))])])]),a("div",{staticClass:"cart-popup dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[a("div",{staticClass:"table-responsive dropdown-cart-list"},[a("table",{staticClass:"table table-sm table-striped"},[a("caption",[t._v("已選擇商品")]),t._m(2),t.carts.length?a("tbody",t._l(t.carts,(function(e){return a("tr",{key:e.product.id},[a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(t._f("money")(e.product.price)))])])})),0):t._e(),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計："+t._s(t._f("money")(t.totalPrice)))])])])]),a("router-link",{staticClass:"bg-info text-white text-center",attrs:{to:"/cart"}},[t._v("前往結帳")])],1)])])]),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v("後臺管理")])],1)])])],1)])],1)},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fas fa-shopping-cart"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("品名")]),n("th",{attrs:{scope:"col"}},[t._v("數量")]),n("th",{attrs:{scope:"col"}},[t._v("單價")])])])}],M=(n("99af"),{data:function(){return{isLoading:!1,carts:[],totalPrice:0,totalQuantity:0}},methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("27645507-6c88-4d1b-816f-1587210ac2be","/ec/shopping");this.$http.get(e).then((function(e){t.isLoading=!1,t.carts=e.data.data,t.totalPrice=0,t.totalQuantity=0,t.carts.forEach((function(e){t.totalPrice+=e.product.price*e.quantity,t.totalQuantity+=e.quantity})),t.$bus.$emit("cart-info",t.totalPrice,t.totalQuantity,t.carts)})).catch((function(e){t.isLoading=!1,console.log(e)}))}},created:function(){var t=this;this.getCart(),this.$bus.$on("get-cart",(function(){t.getCart()}))}}),A=M,D=Object(_["a"])(A,S,L,!1,null,null,null),q=D.exports,N={name:"Home",components:{navbar:q},data:function(){return{}}},Q=N,B=Object(_["a"])(Q,T,j,!1,null,null,null),V=B.exports;a["default"].use(P["a"]);var z=[{path:"/",name:"Home",component:V,children:[{path:"",name:"Index",component:function(){return n.e("chunk-2d0cc046").then(n.bind(null,"4bac"))}},{path:"about",name:"About",component:function(){return n.e("chunk-2d0f0a00").then(n.bind(null,"9cbb"))}},{path:"products",name:"Products",component:function(){return n.e("chunk-2d2308d1").then(n.bind(null,"ed84"))}},{path:"product/:id",name:"Product",component:function(){return n.e("chunk-2d0cfb23").then(n.bind(null,"658f"))}},{path:"cart",name:"Cart",component:function(){return n.e("chunk-2d0cf4c3").then(n.bind(null,"62b3"))}}]},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-2d209561").then(n.bind(null,"a92e"))},children:[{path:"",component:function(){return n.e("chunk-eedca278").then(n.bind(null,"372d"))}},{path:"products",component:function(){return n.e("chunk-eedca278").then(n.bind(null,"372d"))}},{path:"coupons",component:function(){return n.e("chunk-f0f25168").then(n.bind(null,"e532"))}},{path:"orders",component:function(){return n.e("chunk-09e83f35").then(n.bind(null,"0d5f"))}},{path:"storage",component:function(){return n.e("chunk-2ef4bac8").then(n.bind(null,"53b6"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"*",redirect:"/"}],H=new P["a"]({routes:z}),W=H;window.$=d.a,a["default"].use(u.a,s.a),a["default"].component("loading",o.a),a["default"].component("ValidationObserver",f["ValidationObserver"]),a["default"].component("ValidationProvider",f["ValidationProvider"]),a["default"].prototype.$bus=new a["default"],Object(f["localize"])("zh_TW",p),Object(f["configure"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),a["default"].filter("money",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"$".concat(e.join("."))})),a["default"].config.productionTip=!1,new a["default"]({router:W,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"9c0c":function(t,e,n){},"9d64":function(t,e,n){t.exports=n.p+"img/logo.0694f643.png"}});
//# sourceMappingURL=app.c935dabb.js.map