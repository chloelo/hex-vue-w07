(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209561"],{a92e:function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("header",[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-info",attrs:{id:"back-nav"}},[s("span",{staticClass:"navbar-brand"},[t._v("後臺管理")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v(" 產品列表 "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[t._v("優惠券列表")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[t._v("訂單列表")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/storage"}},[t._v("圖庫管理")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("回前台")])],1)]),s("button",{staticClass:"btn btn-light ml-auto",attrs:{type:"button"},on:{click:t.signout}},[t._v("登出")])])])]),t.checkSuccess?s("router-view",{staticClass:"py-5",attrs:{token:t.token}}):t._e()],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],i=(s("ac1f"),s("5319"),{data:function(){return{token:"",checkSuccess:!1,isLoading:!1}},methods:{signout:function(){document.cookie="hexToken=; expires=; path=/",this.$router.push("/")},checkLogin:function(){var t=this;this.isLoading=!0,this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.$http.defaults.headers.common.Authorization="Bearer ".concat(this.token);var a="".concat("https://course-ec-api.hexschool.io/api","/auth/check");this.$http.post(a,{api_token:this.token}).then((function(){t.isLoading=!1,t.checkSuccess=!0})).catch((function(a){t.isLoading=!1,t.$bus.$emit("msg:push","出現錯誤 ".concat(a.response.data.message),"danger"),t.checkSuccess=!1,t.$router.push("/login")}))}},created:function(){this.checkLogin()}}),o=i,c=s("2877"),r=Object(c["a"])(o,n,e,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d209561.df30be3c.js.map