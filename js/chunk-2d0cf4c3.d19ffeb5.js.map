{"version":3,"sources":["webpack:///./src/views/front/Cart.vue?52ba","webpack:///src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?0568","webpack:///./src/views/front/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_v","_m","_l","item","key","product","id","removeCart","_s","title","_f","price","quantity","updateQuantity","directives","name","rawName","value","expression","domProps","target","composing","$set","carts","length","_e","removeAllCart","totalPrice","scopedSlots","_u","fn","ref","invalid","preventDefault","createOrder","errors","classes","order","class","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","staticRenderFns","data","totalQuantity","imageUrl","email","tel","address","payment","message","methods","$http","created","$bus","$emit","$on","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIO,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQT,EAAIO,UAAUE,MAAWL,EAAG,UAAU,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,OAAO,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,WAAWP,EAAG,QAAQ,CAACM,YAAY,wCAAwC,CAACV,EAAIY,GAAG,GAAGR,EAAG,QAAQ,CAACJ,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,KAAK,CAACW,IAAID,EAAKE,QAAQC,IAAI,CAACb,EAAG,KAAK,CAACA,EAAG,SAAS,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIkB,WAAWJ,EAAKE,QAAQC,OAAO,CAACjB,EAAIY,GAAG,GAAE,OAAUR,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGL,EAAKE,QAAQI,UAAUhB,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIqB,GAAG,QAAPrB,CAAgBc,EAAKE,QAAQM,WAAWlB,EAAG,KAAK,CAACA,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,SAAS,CAACM,YAAY,uBAAuBJ,MAAM,CAAC,SAA6B,IAAlBQ,EAAKS,SAAe,KAAO,UAAUf,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIwB,eAAeV,EAAKE,QAAQC,GAAIH,EAAKS,SAAW,MAAM,CAACvB,EAAIW,GAAG,SAASP,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAa,SAAEe,WAAW,kBAAkBnB,YAAY,eAAeJ,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,mBAAmB,gBAAgBwB,SAAS,CAAC,MAAShB,EAAa,UAAGN,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOT,EAAIwB,eAAeV,EAAKE,QAAQC,GAAIH,EAAKS,WAAW,MAAQ,SAASd,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKnB,EAAM,WAAYL,EAAOsB,OAAOH,WAAWxB,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,SAAS,CAACM,YAAY,uBAAuBJ,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIwB,eAAeV,EAAKE,QAAQC,GAAIH,EAAKS,SAAW,MAAM,CAACvB,EAAIW,GAAG,aAAaP,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIqB,GAAG,QAAPrB,CAAiBc,EAAKE,QAAQM,MAAQR,EAAKS,mBAAyC,IAArBvB,EAAIkC,MAAMC,OAAc/B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,YAAY,cAAcJ,MAAM,CAAC,QAAU,MAAM,CAACN,EAAIW,GAAG,mBAAmBX,EAAIoC,MAAM,GAAGhC,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACM,YAAY,YAAYJ,MAAM,CAAC,QAAU,MAAM,CAACF,EAAG,SAAS,CAACM,YAAY,iCAAiCJ,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQR,EAAIqC,gBAAgB,CAACrC,EAAIY,GAAG,GAAGZ,EAAIW,GAAG,cAAcP,EAAG,KAAK,CAACM,YAAY,aAAaJ,MAAM,CAAC,QAAU,MAAM,CAACN,EAAIW,GAAG,MAAMX,EAAImB,GAAGnB,EAAIqB,GAAG,QAAPrB,CAAgBA,EAAIsC,0BAA0BlC,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,YAAYP,EAAG,sBAAsB,CAACmC,YAAYvC,EAAIwC,GAAG,CAAC,CAACzB,IAAI,UAAU0B,GAAG,SAASC,GACvlF,IAAIC,EAAUD,EAAIC,QAClB,MAAO,CAACvC,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOmC,iBAAwB5C,EAAI6C,YAAYpC,MAAW,CAACL,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,sBAAsB,CAACE,MAAM,CAAC,MAAQ,YAAYiC,YAAYvC,EAAIwC,GAAG,CAAC,CAACzB,IAAI,UAAU0B,GAAG,SAASC,GAC5R,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAC3C,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIW,GAAG,WAAWP,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAU,KAAEnB,WAAW,eAAenB,YAAY,eAAeuC,MAAMF,EAAQzC,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,GAAK,WAAW,YAAc,SAASwB,SAAS,CAAC,MAAS9B,EAAIgD,MAAU,MAAGxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKjC,EAAIgD,MAAO,OAAQvC,EAAOsB,OAAOH,WAAWxB,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACV,EAAIW,GAAGX,EAAImB,GAAG2B,EAAO,WAAW,MAAK,MAAS,KAAK1C,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,sBAAsB,CAACE,MAAM,CAAC,MAAQ,kBAAkBiC,YAAYvC,EAAIwC,GAAG,CAAC,CAACzB,IAAI,UAAU0B,GAAG,SAASC,GACltB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAC3C,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIW,GAAG,WAAWP,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAW,MAAEnB,WAAW,gBAAgBnB,YAAY,eAAeuC,MAAMF,EAAQzC,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,YAAc,SAASwB,SAAS,CAAC,MAAS9B,EAAIgD,MAAW,OAAGxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKjC,EAAIgD,MAAO,QAASvC,EAAOsB,OAAOH,WAAWxB,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACV,EAAIW,GAAGX,EAAImB,GAAG2B,EAAO,WAAW,MAAK,MAAS,KAAK1C,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,sBAAsB,CAACE,MAAM,CAAC,MAAQ,0BAA0BiC,YAAYvC,EAAIwC,GAAG,CAAC,CAACzB,IAAI,UAAU0B,GAAG,SAASC,GACvsB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAC3C,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,QAAQ,CAACN,EAAIW,GAAG,QAAQP,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAS,IAAEnB,WAAW,cAAcnB,YAAY,eAAeuC,MAAMF,EAAQzC,MAAM,CAAC,KAAO,MAAM,GAAK,MAAM,YAAc,MAAMwB,SAAS,CAAC,MAAS9B,EAAIgD,MAAS,KAAGxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKjC,EAAIgD,MAAO,MAAOvC,EAAOsB,OAAOH,WAAWxB,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACV,EAAIW,GAAGX,EAAImB,GAAG2B,EAAO,WAAW,MAAK,MAAS,KAAK1C,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,sBAAsB,CAACE,MAAM,CAAC,MAAQ,YAAYiC,YAAYvC,EAAIwC,GAAG,CAAC,CAACzB,IAAI,UAAU0B,GAAG,SAASC,GACrqB,IAAII,EAASJ,EAAII,OACbC,EAAUL,EAAIK,QAClB,MAAO,CAAC3C,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIW,GAAG,QAAQP,EAAG,QAAQ,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAa,QAAEnB,WAAW,kBAAkBnB,YAAY,eAAeuC,MAAMF,EAAQzC,MAAM,CAAC,KAAO,OAAO,GAAK,UAAU,YAAc,MAAMwB,SAAS,CAAC,MAAS9B,EAAIgD,MAAa,SAAGxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKjC,EAAIgD,MAAO,UAAWvC,EAAOsB,OAAOH,WAAWxB,EAAG,OAAO,CAACM,YAAY,oBAAoB,CAACV,EAAIW,GAAGX,EAAImB,GAAG2B,EAAO,WAAW,MAAK,MAAS,KAAK1C,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIW,GAAG,UAAUP,EAAG,SAAS,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAa,QAAEnB,WAAW,kBAAkBnB,YAAY,eAAeJ,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,SAAW,IAAIE,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIyC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAK7C,EAAOsB,OAAOwB,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAE5B,MAAM,OAAO+B,KAAO3D,EAAIiC,KAAKjC,EAAIgD,MAAO,UAAWvC,EAAOsB,OAAO8B,SAAWX,EAAgBA,EAAc,OAAO,CAAC9C,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,GAAG,SAAW,KAAK,CAACN,EAAIW,GAAG,aAAaP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACN,EAAIW,GAAG,YAAYP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIW,GAAG,SAASP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIW,GAAG,SAASP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,YAAY,CAACN,EAAIW,GAAG,aAAaP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACN,EAAIW,GAAG,YAAYP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACN,EAAIW,GAAG,cAAcP,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,cAAc,CAACN,EAAIW,GAAG,qBAAqBP,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIW,GAAG,QAAQP,EAAG,WAAW,CAACqB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO5B,EAAIgD,MAAa,QAAEnB,WAAW,kBAAkBnB,YAAY,eAAeJ,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,KAAO,KAAKwB,SAAS,CAAC,MAAS9B,EAAIgD,MAAa,SAAGxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBhC,EAAIiC,KAAKjC,EAAIgD,MAAO,UAAWvC,EAAOsB,OAAOH,eAAexB,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAACN,EAAG,SAAS,CAACM,YAAY,eAAeJ,MAAM,CAAC,KAAO,SAAS,SAAWqC,IAAU,CAAC3C,EAAIW,GAAG,wBAAwB,YAAY,IAC1xEmD,EAAkB,CAAC,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAAS,CAACN,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,UAAU,CAACN,EAAIW,GAAG,QAAQP,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIW,GAAG,aAAa,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,IAAI,CAACM,YAAY,wBAAwB,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,IAAI,CAACM,YAAY,yBC4O/oB,G,UAAA,CACEqD,KADF,WAEI,MAAO,CACLxD,WAAW,EACX+B,WAAY,EACZ0B,cAAe,EACf9B,MAAO,GACPlB,QAAS,CACPiD,SAAU,GACV1C,SAAU,GAEZyB,MAAO,CACLtB,KAAM,GACNwC,MAAO,GACPC,IAAK,GACLC,QAAS,GACTC,QAAS,GACTC,QAAS,MAIfC,QAAS,CAuBP/C,eAvBJ,SAuBA,gBACM,KAAID,EAAW,GAAf,CACA,IAAN,wHACA,GACQP,QAASC,EACTM,SAAR,GAEMtB,KAAKuE,MACX,WACA,iBACQ,EAAR,0BAEA,mBACQ,QAAR,YAGItD,WAvCJ,SAuCA,cACA,mIACMjB,KAAKuE,MACX,UACA,iBACQ,EAAR,0BAEA,mBACQ,QAAR,WAGInC,cAlDJ,WAkDA,WACA,oIACMpC,KAAKuE,MACX,UACA,iBACQ,EAAR,SACQ,EAAR,0BAEA,mBACQ,QAAR,WAGI3B,YA9DJ,WA8DA,WACM5C,KAAKM,WAAY,EACjB,IAAN,sHACMN,KAAKuE,MACX,mBACA,iBACQ,EAAR,aACQ,EAAR,OACU,KAAV,GACU,MAAV,GACU,IAAV,GACU,QAAV,GACU,QAAV,GACU,QAAV,IAEQ,EAAR,uBAGQ,EAAR,6BAEA,mBACQ,EAAR,aACQ,QAAR,YAIEC,QA7GF,WA6GA,WACIxE,KAAKyE,KAAKC,MAAM,YAChB1E,KAAKyE,KAAKE,IAAI,aAAa,SAA/B,OACM,EAAN,aACM,EAAN,gBACM,EAAN,cC7W6V,I,YCOzVC,EAAY,eACd,EACA9E,EACA+D,GACA,EACA,KACA,KACA,MAIa,aAAAe,E","file":"js/chunk-2d0cf4c3.d19ffeb5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('section',{staticClass:\"cart_zone\"},[_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7\"},[_c('div',{staticClass:\"form-cart-list\"},[_c('h3',{staticClass:\"text-info\"},[_vm._v(\"購物車清單\")]),_c('table',{staticClass:\"table table-responsive-sm table-cart\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id},[_c('td',[_c('button',{staticClass:\"btn btn-outline-danger btn-del\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCart(item.product.id)}}},[_vm._m(1,true)])]),_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',[_vm._v(_vm._s(_vm._f(\"money\")(item.product.price)))]),_c('td',[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"disabled\":item.quantity === 1,\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity - 1)}}},[_vm._v(\"-\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":(item.quantity)},on:{\"change\":function($event){return _vm.updateQuantity(item.product.id, item.quantity)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity + 1)}}},[_vm._v(\"+\")])])])]),_c('td',[_vm._v(_vm._s(_vm._f(\"money\")((item.product.price * item.quantity))))])])}),(_vm.carts.length === 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"您尚未選擇任何商品喔！\")])]):_vm._e()],2),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-left\",attrs:{\"colspan\":\"3\"}},[_c('button',{staticClass:\"btn btn-outline-danger btn-del\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removeAllCart}},[_vm._m(2),_vm._v(\" 全部清空 \")])]),_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計：\"+_vm._s(_vm._f(\"money\")(_vm.totalPrice)))])])])])])]),_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"order-info\"},[_c('h3',{staticClass:\"text-info\"},[_vm._v(\"填寫訂單資訊\")]),_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.name),expression:\"order.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"name\":\"username\",\"id\":\"username\",\"placeholder\":\"收件人姓名\"},domProps:{\"value\":(_vm.order.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.email),expression:\"order.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"Email\"},domProps:{\"value\":(_vm.order.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required|numeric|min:8\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"tel\"}},[_vm._v(\"電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.tel),expression:\"order.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"tel\",\"id\":\"tel\",\"placeholder\":\"電話\"},domProps:{\"value\":(_vm.order.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.address),expression:\"order.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"id\":\"address\",\"placeholder\":\"地址\"},domProps:{\"value\":(_vm.order.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('label',{attrs:{\"for\":\"waytopay\"}},[_vm._v(\"購買方式\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.payment),expression:\"order.payment\"}],staticClass:\"form-control\",attrs:{\"name\":\"購買方式\",\"id\":\"waytopay\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.order, \"payment\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\"}},[_vm._v(\"請選擇付款方式\")]),_c('option',{attrs:{\"value\":\"WebATM\"}},[_vm._v(\"WebATM\")]),_c('option',{attrs:{\"value\":\"ATM\"}},[_vm._v(\"ATM\")]),_c('option',{attrs:{\"value\":\"CVS\"}},[_vm._v(\"CVS\")]),_c('option',{attrs:{\"value\":\"Barcode\"}},[_vm._v(\"Barcode\")]),_c('option',{attrs:{\"value\":\"Credit\"}},[_vm._v(\"Credit\")]),_c('option',{attrs:{\"value\":\"ApplePay\"}},[_vm._v(\"ApplePay\")]),_c('option',{attrs:{\"value\":\"GooglePay\"}},[_vm._v(\"GooglePay\")])])])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.message),expression:\"order.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"message\",\"cols\":\"30\",\"rows\":\"3\"},domProps:{\"value\":(_vm.order.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"message\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group text-right\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\"送出表單\")])])])])]}}])})],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\",\"width\":\"60px\"}},[_vm._v(\"移除\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"品名\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"單價\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"150px\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"小計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-trash-alt\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fas fa-trash-alt\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <section class=\"cart_zone\">\n      <div class=\"container my-5\">\n        <div class=\"row\">\n          <div class=\"col-lg-7\">\n            <div class=\"form-cart-list\">\n              <h3 class=\"text-info\">購物車清單</h3>\n              <table class=\"table table-responsive-sm table-cart\">\n                <!-- <caption class=\"text-info\">購物車清單</caption> -->\n                <thead>\n                  <tr>\n                    <th\n                      scope=\"col\"\n                      width=\"60px\"\n                    >移除</th>\n                    <th scope=\"col\">品名</th>\n                    <th scope=\"col\">單價</th>\n                    <th\n                      scope=\"col\"\n                      width=\"150px\"\n                    >數量</th>\n                    <th scope=\"col\">小計</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"item in carts\"\n                    :key=\"item.product.id\"\n                  >\n                    <td>\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-outline-danger btn-del\"\n                        @click=\"removeCart(item.product.id)\"\n                      >\n                        <span>\n                          <i class=\"fas fa-trash-alt\"></i>\n                          <!-- <i class=\"fas fa-trash-alt\"></i> -->\n                        </span>\n                      </button>\n                    </td>\n                    <td>{{ item.product.title }}</td>\n                    <td>{{ item.product.price | money }}</td>\n                    <td>\n                      <div class=\"input-group\">\n                        <div class=\"input-group-prepend\">\n                          <button\n                            :disabled=\"item.quantity === 1\"\n                            class=\"btn btn-outline-info\"\n                            type=\"button\"\n                            @click=\"\n                              updateQuantity(item.product.id, item.quantity - 1)\n                            \"\n                          >-</button>\n                        </div>\n                        <input\n                          v-model=\"item.quantity\"\n                          type=\"number\"\n                          min=\"1\"\n                          class=\"form-control\"\n                          aria-describedby=\"basic-addon1\"\n                          @change=\"\n                            updateQuantity(item.product.id, item.quantity)\n                          \"\n                        />\n                        <div class=\"input-group-append\">\n                          <button\n                            class=\"btn btn-outline-info\"\n                            type=\"button\"\n                            @click=\"\n                              updateQuantity(item.product.id, item.quantity + 1)\n                            \"\n                          >+</button>\n                        </div>\n                      </div>\n                    </td>\n                    <td>{{ (item.product.price * item.quantity) | money }}</td>\n                  </tr>\n                  <tr v-if=\"carts.length === 0\">\n                    <td\n                      colspan=\"5\"\n                      class=\"text-center\"\n                    >您尚未選擇任何商品喔！</td>\n                  </tr>\n                </tbody>\n                <tfoot>\n                  <tr>\n                    <td\n                      colspan=\"3\"\n                      class=\"text-left\"\n                    >\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-outline-danger btn-del\"\n                        @click=\"removeAllCart\"\n                      >\n                        <span>\n                          <i class=\"fas fa-trash-alt\"></i>\n                          <!-- <font-awesome-icon icon=\"trash-alt\" /> -->\n                        </span>\n                        全部清空\n                      </button>\n                    </td>\n                    <td\n                      colspan=\"2\"\n                      class=\"text-right\"\n                    >總計：{{ totalPrice | money }}</td>\n                  </tr>\n                </tfoot>\n              </table>\n            </div>\n          </div>\n          <div class=\"col-lg-5\">\n            <div class=\"order-info\">\n              <h3 class=\"text-info\">填寫訂單資訊</h3>\n              <validation-observer v-slot=\"{ invalid }\">\n                <form @submit.prevent=\"createOrder\">\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <validation-provider\n                        rules=\"required\"\n                        v-slot=\"{ errors, classes }\"\n                      >\n                        <label for=\"username\">收件人姓名</label>\n                        <input\n                          type=\"text\"\n                          name=\"username\"\n                          class=\"form-control\"\n                          id=\"username\"\n                          placeholder=\"收件人姓名\"\n                          :class=\"classes\"\n                          v-model=\"order.name\"\n                        />\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                      </validation-provider>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <validation-provider\n                        rules=\"required|email\"\n                        v-slot=\"{ errors, classes }\"\n                      >\n                        <label for=\"email\">Email</label>\n                        <input\n                          type=\"email\"\n                          class=\"form-control\"\n                          id=\"email\"\n                          placeholder=\"Email\"\n                          :class=\"classes\"\n                          v-model=\"order.email\"\n                        />\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                      </validation-provider>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <validation-provider\n                        rules=\"required|numeric|min:8\"\n                        v-slot=\"{ errors, classes }\"\n                      >\n                        <label for=\"tel\">電話</label>\n                        <input\n                          type=\"tel\"\n                          class=\"form-control\"\n                          id=\"tel\"\n                          placeholder=\"電話\"\n                          :class=\"classes\"\n                          v-model=\"order.tel\"\n                        />\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                      </validation-provider>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <validation-provider\n                        rules=\"required\"\n                        v-slot=\"{ errors, classes }\"\n                      >\n                        <label for=\"address\">地址</label>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          id=\"address\"\n                          placeholder=\"地址\"\n                          :class=\"classes\"\n                          v-model=\"order.address\"\n                        />\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n                      </validation-provider>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <label for=\"waytopay\">購買方式</label>\n                      <select\n                        name=\"購買方式\"\n                        id=\"waytopay\"\n                        class=\"form-control\"\n                        v-model=\"order.payment\"\n                        required\n                      >\n                        <option\n                          value\n                          disabled\n                        >請選擇付款方式</option>\n                        <option value=\"WebATM\">WebATM</option>\n                        <option value=\"ATM\">ATM</option>\n                        <option value=\"CVS\">CVS</option>\n                        <option value=\"Barcode\">Barcode</option>\n                        <option value=\"Credit\">Credit</option>\n                        <option value=\"ApplePay\">ApplePay</option>\n                        <option value=\"GooglePay\">GooglePay</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group\">\n                      <label for=\"message\">留言</label>\n                      <textarea\n                        id=\"message\"\n                        class=\"form-control\"\n                        cols=\"30\"\n                        rows=\"3\"\n                        v-model=\"order.message\"\n                      ></textarea>\n                    </div>\n                  </div>\n                  <div class=\"form-row\">\n                    <div class=\"col form-group text-right\">\n                      <button\n                        type=\"submit\"\n                        class=\"btn btn-info\"\n                        :disabled=\"invalid\"\n                      >送出表單</button>\n                    </div>\n                  </div>\n                </form>\n              </validation-observer>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      totalPrice: 0,\n      totalQuantity: 0,\n      carts: [],\n      product: {\n        imageUrl: [],\n        quantity: 1,\n      },\n      order: {\n        name: '',\n        email: '',\n        tel: '',\n        address: '',\n        payment: '',\n        message: '',\n      },\n    };\n  },\n  methods: {\n    // getCart() {\n    //   this.isLoading = true;\n    //   const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n    //   this.$http\n    //     .get(api)\n    //     .then((res) => {\n    //       this.isLoading = false;\n    //       this.carts = res.data.data;\n\n    //       this.totalPrice = 0;\n    //       this.totalQuantity = 0;\n    //       // 計算總金額\n    //       this.carts.forEach((item) => {\n    //         this.totalPrice += item.product.price * item.quantity;\n    //         this.totalQuantity += item.quantity;\n    //       });\n    //     })\n    //     .catch((err) => {\n    //       this.isLoading = false;\n    //       console.log(err);\n    //     });\n    // },\n    updateQuantity(id, quantity) {\n      if (quantity < 1) return;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const editCart = {\n        product: id,\n        quantity,\n      };\n      this.$http\n        .patch(api, editCart)\n        .then(() => {\n          this.$bus.$emit('get-cart');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    removeCart(id) {\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      this.$http\n        .delete(api)\n        .then(() => {\n          this.$bus.$emit('get-cart');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    removeAllCart() {\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/all/product`;\n      this.$http\n        .delete(api)\n        .then(() => {\n          this.carts = [];\n          this.$bus.$emit('get-cart');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    createOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/orders`;\n      this.$http\n        .post(api, this.order)\n        .then(() => {\n          this.isLoading = false;\n          this.order = {\n            name: '',\n            email: '',\n            tel: '',\n            address: '',\n            payment: '',\n            message: '',\n          };\n          this.$bus.$emit('get-cart');\n          // alert('您已完成訂單，我們會盡快與您聯繫，謝謝。');\n          // window.location = 'products.html';\n          this.$router.push('/products');\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n  },\n  created() {\n    this.$bus.$emit('get-cart');\n    this.$bus.$on('cart-info', (price, amount, carts) => {\n      this.totalPrice = price;\n      this.totalQuantity = amount;\n      this.carts = carts;\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scope></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=335c36af&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}